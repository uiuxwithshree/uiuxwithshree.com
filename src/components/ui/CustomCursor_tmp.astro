---
---

<div id="custom-cursor" class="fixed top-0 left-0 w-6 h-6 border border-coral rounded-full pointer-events-none z-[9999] mix-blend-difference opacity-0 transition-transform duration-100 ease-out translate-x-[-50%] translate-y-[-50%]"></div>
<div id="cursor-dot" class="fixed top-0 left-0 w-1.5 h-1.5 bg-coral rounded-full pointer-events-none z-[9999] opacity-0 transition-transform duration-75 ease-out translate-x-[-50%] translate-y-[-50%]"></div>

<script>
  import { gsap } from "gsap";

  const cursor = document.getElementById("custom-cursor");
  const dot = document.getElementById("cursor-dot");
  
  // Show cursor when mouse enters the window
  document.body.addEventListener("mouseenter", () => {
    gsap.to([cursor, dot], { opacity: 1, duration: 0.3 });
  });

  document.body.addEventListener("mouseleave", () => {
    gsap.to([cursor, dot], { opacity: 0, duration: 0.3 });
  });

  // Follow mouse
  window.addEventListener("mousemove", (e) => {
    gsap.to(cursor, { x: e.clientX, y: e.clientY, duration: 0.1 });
    gsap.to(dot, { x: e.clientX, y: e.clientY, duration: 0.05 }); // slightly faster for trailing effect
  });

  // Hover effect on links and buttons
  const interactiveElements = document.querySelectorAll("a, button, .project-card");
  
  interactiveElements.forEach((el) => {
    el.addEventListener("mouseenter", () => {
      gsap.to(cursor, { scale: 3, duration: 0.3 });
      gsap.to(dot, { scale: 0.5, duration: 0.3 });
    });
    
    el.addEventListener("mouseleave", () => {
      gsap.to(cursor, { scale: 1, duration: 0.3 });
      gsap.to(dot, { scale: 1, duration: 0.3 });
    });
  });

  // Re-initialize on view transitions
  document.addEventListener("astro:page-load", () => {
    const newInteractiveElements = document.querySelectorAll("a, button, .project-card");
    newInteractiveElements.forEach((el) => {
      el.addEventListener("mouseenter", () => {
        gsap.to(cursor, { scale: 3, duration: 0.3 });
        gsap.to(dot, { scale: 0.5, duration: 0.3 });
      });
      el.addEventListener("mouseleave", () => {
        gsap.to(cursor, { scale: 1, duration: 0.3 });
        gsap.to(dot, { scale: 1, duration: 0.3 });
      });
    });
  });
</script>
